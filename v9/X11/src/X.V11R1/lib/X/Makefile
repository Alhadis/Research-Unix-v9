
#
# This makefile is automatically generated by imake... do not modify
# or you may lose your changes when imake generates makefiles again.
# Ignore this message if you are not using imake.
#

            TOP = ./../..
             AS = as
             CC = cc
            CPP = /lib/cpp
             LD = ld
           LINT = lint
           MAKE = make
    CDEBUGFLAGS = -O
        DESTDIR =

        INSTALL = install
           TAGS = ctags
         DEPEND = $(DEPENDSRC)/makedepend
          IMAKE = $(IMAKESRC)/imake
            RGB = $(RGBSRC)/rgb
         CFLAGS = $(CDEBUGFLAGS) $(INCLUDES) $(DEFINES)
        LDFLAGS = $(CDEBUGFLAGS) $(SYS_LIBRARIES)
   INSTLIBFLAGS = -c -m 0664
      USRLIBDIR = $(DESTDIR)/usr/lib
         BINDIR = $(DESTDIR)/usr/bin/X11
         LIBDIR = $(DESTDIR)/usr/lib/X11
         INCDIR = $(DESTDIR)/usr/include/X11
   FUTUREINCDIR = $(DESTDIR)/usr/include/X
        FONTDIR = $(DESTDIR)$(LIBDIR)/fonts
         MANDIR = $(DESTDIR)/usr/man/mann
      CLIENTSRC = $(TOP)/clients
        DEMOSRC = $(TOP)/demos
         LIBSRC = $(TOP)/lib
        FONTSRC = $(TOP)/fonts
     INCLUDESRC = $(TOP)/include
      SERVERSRC = $(TOP)/server
        UTILSRC = $(TOP)/util
        HACKSRC = $(TOP)/hacks
         DOCSRC = $(TOP)/doc
      DEPENDSRC = $(UTILSRC)/makedepend
       IMAKESRC = $(UTILSRC)/imake
         RGBSRC = $(UTILSRC)/rgb
        XLIBSRC = $(LIBSRC)/X
         XRMSRC = $(LIBSRC)/Xrm
     TOOLKITSRC = $(LIBSRC)/Xtk
     OLDXLIBSRC = $(LIBSRC)/oldX
    OLDXMENUSRC = $(LIBSRC)/oldXMenu
      OLDXRMSRC = $(LIBSRC)/oldXrm
  OLDTOOLKITSRC = $(LIBSRC)/oldXtk
   EXTENSIONSRC = $(TOP)/extensions
        XMANSRC = $(DOCSRC)/Xlib/Xman
   EXTENSIONLIB = $(EXTENSIONSRC)/lib/libXext.a
           XLIB = $(XLIBSRC)/libX.a
        OLDXLIB = $(OLDXLIBSRC)/liboldX.a
       XTOOLLIB = $(TOOLKITSRC)/libXtk.a
    OLDXTOOLLIB = $(OLDTOOLKITSRC)/liboldXtk.a
    OLDXMENULIB = $(OLDXMENUSRC)/libXMenu.a
         XRMLIB = $(XRMSRC)/libXrm.a
      OLDXRMLIB = $(OLDXRMSRC)/liboldXrm.a
       INCLUDES = -I$(TOP)
      MACROFILE = Sunv9.macros
      IMAKE_CMD = $(NEWTOP)$(IMAKE) -TImake.tmpl \
			-I$(NEWTOP)$(UTILSRC)/imake.includes \
			-s Makefile
         RM_CMD = rm -f *.CKP *.ln *.BAK *.bak *.o core errs ,* *~ *.a \
			tags TAGS make.log

       INCLUDES = -I. -I$(TOP) -I$(INCLUDESRC)
        DEFINES = -DUNIXCONN
   INSTALLFLAGS = -m 0644
           SRCS = *.c
        HEADERS = Xlib.h Xutil.h

OBJS =\
	Context.o \
	XAllCells.o \
	XAllPlanes.o \
	XAllowEv.o \
	XAutoRep.o \
	XBackgnd.o \
	XBdrWidth.o \
	XBell.o \
	XBorder.o \
	XChAccCon.o \
	XChClMode.o \
	XChActPGb.o \
	XChCmap.o \
	XChGC.o \
	XChKeyCon.o \
	XChPntCon.o \
	XChProp.o \
	XChSaveSet.o \
	XChWAttrs.o \
	XChWindow.o \
	XChkIfEv.o \
	XChkMaskEv.o \
	XChkWinEv.o \
	XChkTypEv.o \
	XChkTypWEv.o \
	XCirWin.o \
	XCirWinDn.o \
	XCirWinUp.o \
	XClDisplay.o \
	XClear.o \
	XClearArea.o \
	XConfWind.o \
	XConnDis.o \
	XConvSel.o \
	XCopyArea.o \
	XCopyCmap.o \
	XCopyGC.o \
	XCopyPlane.o \
	XCrBFData.o \
	XCrCmap.o \
	XCrCursor.o \
	XCrGC.o \
	XCrGlCur.o \
	XCrPixmap.o \
	XCrWindow.o \
	XCursor.o \
	XDefCursor.o \
	XDelProp.o \
	XDestSubs.o \
	XDestWind.o \
	XDisName.o \
	XDrArc.o \
	XDrArcs.o \
	XDrLine.o \
	XDrLines.o \
	XDrPoint.o \
	XDrPoints.o \
	XDrRect.o \
	XDrRects.o \
	XDrSegs.o \
	XErrDes.o \
	XErrHndlr.o \
	XEvToWire.o \
	XFetchName.o \
	XFillArc.o \
	XFillArcs.o \
	XFillPoly.o \
	XFillRect.o \
	XFillRects.o \
	XFlush.o \
	XFont.o \
	XFontNames.o \
	XFontInfo.o \
	XFreeCmap.o \
	XFreeCols.o \
	XFreeCurs.o \
	XFreeEData.o \
	XFreeGC.o \
	XFreePix.o \
	XFSSaver.o \
	XGCMisc.o \
	XGeom.o \
	XGetAtomNm.o \
	XGetColor.o \
	XGetDflt.o \
	XGetFPath.o \
	XGetFProp.o \
	XGetGeom.o \
	XGetHColor.o \
	XGetHints.o \
	XGetIFocus.o \
	XGetImage.o \
	XGetKCnt.o \
	XGetMoEv.o \
	XGetPCnt.o \
	XGetPntMap.o \
	XGetProp.o \
	XGetSOwner.o \
	XGetSSaver.o \
	XGetStCmap.o \
	XGetWAttrs.o \
	XGrButton.o \
	XGrKey.o \
	XGrKeybd.o \
	XGrPointer.o \
	XGrServer.o \
	XHost.o \
	XIfEvent.o \
	XImUtil.o \
	XImText.o \
	XImText16.o \
	XInitExt.o \
	XInsCmap.o \
	XIntAtom.o \
	XKeyBind.o \
	XKillCl.o \
	XLiHosts.o \
	XLiICmaps.o \
	XLiProps.o \
	XListExt.o \
	XLoadFont.o \
	XLookupCol.o \
	XLowerWin.o \
	XMacros.o \
	XMapRaised.o \
	XMapSubs.o \
	XMapWindow.o \
	XMaskEvent.o \
	XModMap.o \
	XMoveWin.o \
	XNextEvent.o \
	XOpenDis.o \
	XParseCol.o \
	XParseGeom.o \
	XPeekEvent.o \
	XPeekIfEv.o \
	XPending.o \
	XPmapBgnd.o \
	XPmapBord.o \
	XPolyReg.o \
	XPolyTxt.o \
	XPolyTxt16.o \
	XPutBEvent.o \
	XPutImage.o \
	XQuBest.o \
	XQuColor.o \
	XQuColors.o \
	XQuCurShp.o \
	XQuExt.o \
	XQuKeybd.o \
	XQuPntr.o \
	XQuStipShp.o \
	XQuTextE16.o \
	XQuTextExt.o \
	XQuTileShp.o \
	XQuTree.o \
	XRaiseWin.o \
	XRdBitF.o \
	XRecolorC.o \
	XReconfWin.o \
	XRegion.o \
	XRepWindow.o \
	XRestackWs.o \
	XRotProp.o \
	XSelInput.o \
	XSendEvent.o \
	XSetBack.o \
	XSetCRects.o \
	XSetClMask.o \
	XSetClOrig.o \
	XSetDashes.o \
	XSetFPath.o \
	XSetFont.o \
	XSetFore.o \
	XSetFunc.o \
	XSetHints.o \
	XSetIFocus.o \
	XSetLStyle.o \
	XSetPMask.o \
	XSetPntMap.o \
	XSetSOwner.o \
	XSetSSaver.o \
	XSetState.o \
	XSetStip.o \
	XSetStCmap.o \
	XSetTile.o \
	XSetTSOrig.o\
	XStBytes.o \
	XStColor.o \
	XStColors.o \
	XStNColor.o \
	XStName.o \
	XSync.o \
	XSynchro.o \
	XText.o \
	XText16.o \
	XTextExt.o \
	XTextExt16.o \
	XTrCoords.o \
	XUndefCurs.o \
	XUngrabBut.o \
	XUngrabKbd.o \
	XUngrabKey.o \
	XUngrabPtr.o \
	XUngrabSvr.o \
	XUninsCmap.o \
	XUnldFont.o \
	XUnmapSubs.o \
	XUnmapWin.o \
	XVisUtil.o \
	XWarpPtr.o \
	XWinEvent.o \
	XWindow.o \
	XWrBitF.o \
	XlibInt.o \
	util.o \
	evtomask.o

.c.o:
	$(CC) -c $(CFLAGS) $*.c

all:: libX.a

libX.a: $(OBJS)
	rm -f $@
	ar clq $@ $(OBJS)
	ranlib $@

all:: libX11.a
libX11.a: libX.a
	rm -f $@
	ln -s libX.a $@

lintlib:: llib-lX.ln

llib-lX.ln: *.c
	rm -f $@
	$(LINT) -CX $(DEFINES) ${INCLUDES} *.c

install:: libX.a
	$(INSTALL) $(INSTLIBFLAGS) libX.a $(USRLIBDIR)
	ranlib $(USRLIBDIR)/libX.a

install::
	rm -f $(USRLIBDIR)/libX11.a
	ln $(USRLIBDIR)/libX.a $(USRLIBDIR)/libX11.a

install:: llib-lX.ln
	$(INSTALL) $(INSTLIBFLAGS) llib-lX.ln $(USRLIBDIR)

install:: $(HEADERS)
	@case '${MFLAGS}' in *[i]*) set +e;; esac; \
	for i in $(HEADERS); do \
		(set -x; $(INSTALL) -c $(INSTALLFLAGS) $$i $(INCDIR)); \
	done

install:: XErrorDB
	$(INSTALL) -c -m 0664 XErrorDB $(LIBDIR)

depend:: ks_names.h

depend::
	$(DEPEND) -s "# DO NOT DELETE" $(CFLAGS) $(SRCS)

ks_names.h: $(INCLUDESRC)/keysymdef.h
	@echo "generating $@"; \
	awk 'BEGIN { \
		printf("/*\n * This is a machine generated file."); \
		printf(" * Do not put under source control.\n */\n"); \
	} \
	/^#define/ { \
		len = length($$2)-3; \
		printf("{ \"%s\", %s },\n", substr($$2,4,len), $$3); \
	}' < $? > $@

clean::
	rm -f ks_names.h

# structure alignment errors can safely be ignored.
# complaints about qevent can be ignored too.

lint:
	$(LINT) -hubz ${INCLUDES} *.c > lint.log

clean::
	$(RM_CMD) \#*

Makefile:: Imakefile \
	$(UTILSRC)/imake.includes/Imake.tmpl \
	$(UTILSRC)/imake.includes/Imake.rules \
	$(UTILSRC)/imake.includes/$(MACROFILE)
		-rm -f Makefile.bak; mv Makefile Makefile.bak
		$(IMAKE_CMD) -DTOPDIR=$(TOP)

tags::
	$(TAGS) -w *.[ch]
	$(TAGS) -xw *.[ch] > TAGS

install::
	@echo "install done"

Makefiles::

