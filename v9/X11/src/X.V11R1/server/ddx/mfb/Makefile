
#
# This makefile is automatically generated by imake... do not modify
# or you may lose your changes when imake generates makefiles again.
# Ignore this message if you are not using imake.
#

            TOP = ./../../..
             AS = as
             CC = cc
            CPP = /lib/cpp
             LD = ld
           LINT = lint
           MAKE = make
    CDEBUGFLAGS = -O
        DESTDIR =

        INSTALL = install
           TAGS = ctags
         DEPEND = $(DEPENDSRC)/makedepend
          IMAKE = $(IMAKESRC)/imake
            RGB = $(RGBSRC)/rgb
         CFLAGS = $(CDEBUGFLAGS) $(INCLUDES) $(DEFINES)
        LDFLAGS = $(CDEBUGFLAGS) $(SYS_LIBRARIES)
   INSTLIBFLAGS = -c -m 0664
      USRLIBDIR = $(DESTDIR)/usr/lib
         BINDIR = $(DESTDIR)/usr/bin/X11
         LIBDIR = $(DESTDIR)/usr/lib/X11
         INCDIR = $(DESTDIR)/usr/include/X11
   FUTUREINCDIR = $(DESTDIR)/usr/include/X
        FONTDIR = $(DESTDIR)$(LIBDIR)/fonts
         MANDIR = $(DESTDIR)/usr/man/mann
      CLIENTSRC = $(TOP)/clients
        DEMOSRC = $(TOP)/demos
         LIBSRC = $(TOP)/lib
        FONTSRC = $(TOP)/fonts
     INCLUDESRC = $(TOP)/include
      SERVERSRC = $(TOP)/server
        UTILSRC = $(TOP)/util
        HACKSRC = $(TOP)/hacks
         DOCSRC = $(TOP)/doc
      DEPENDSRC = $(UTILSRC)/makedepend
       IMAKESRC = $(UTILSRC)/imake
         RGBSRC = $(UTILSRC)/rgb
        XLIBSRC = $(LIBSRC)/X
         XRMSRC = $(LIBSRC)/Xrm
     TOOLKITSRC = $(LIBSRC)/Xtk
     OLDXLIBSRC = $(LIBSRC)/oldX
    OLDXMENUSRC = $(LIBSRC)/oldXMenu
      OLDXRMSRC = $(LIBSRC)/oldXrm
  OLDTOOLKITSRC = $(LIBSRC)/oldXtk
   EXTENSIONSRC = $(TOP)/extensions
        XMANSRC = $(DOCSRC)/Xlib/Xman
   EXTENSIONLIB = $(EXTENSIONSRC)/lib/libXext.a
           XLIB = $(XLIBSRC)/libX.a
        OLDXLIB = $(OLDXLIBSRC)/liboldX.a
       XTOOLLIB = $(TOOLKITSRC)/libXtk.a
    OLDXTOOLLIB = $(OLDTOOLKITSRC)/liboldXtk.a
    OLDXMENULIB = $(OLDXMENUSRC)/libXMenu.a
         XRMLIB = $(XRMSRC)/libXrm.a
      OLDXRMLIB = $(OLDXRMSRC)/liboldXrm.a
       INCLUDES = -I$(TOP)
      MACROFILE = Sunv9.macros
      IMAKE_CMD = $(NEWTOP)$(IMAKE) -TImake.tmpl \
			-I$(NEWTOP)$(UTILSRC)/imake.includes \
			-s Makefile
         RM_CMD = rm -f *.CKP *.ln *.BAK *.bak *.o core errs ,* *~ *.a \
			tags TAGS make.log

SRCS =	 mfbgc.c mfbwindow.c mfbfont.c \
	 mfbfillrct.c mfbpntwin.c maskbits.c mfbpixmap.c \
	 mfbimage.c mfbline.c mfbbres.c mfbhrzvert.c \
	 mfbpushpxl.c \
         mfbfillsp.c mfbsetsp.c mfbscrinit.c mfbscrclse.c mfbclip.c \
         mfbbitblt.c mfbgetsp.c mfbpolypnt.c \
	 mfbplygblt.c mfbimggblt.c mfbcmap.c \
	 mfbpntarea.c mfbtile.c \
         mfbtegblt.c mfbmisc.c

OBJS =   mfbgc.o mfbwindow.o mfbfont.o \
	 mfbfillrct.o mfbpntwin.o maskbits.o mfbpixmap.o \
	 mfbimage.o mfbline.o mfbbres.o mfbhrzvert.o \
	 mfbpushpxl.o \
	 mfbfillsp.o mfbsetsp.o mfbscrinit.o mfbscrclse.o mfbclip.o \
         mfbbitblt.o mfbgetsp.o mfbpolypnt.o \
	 mfbpgbwht.o mfbpgbblak.o mfbpgbinv.o \
	 mfbigbwht.o mfbigbblak.o mfbcmap.o \
	 mfbpawhite.o mfbpablack.o mfbpainv.o mfbtile.o \
         mfbtewhite.o mfbteblack.o mfbmisc.o

CDEBUGFLAGS = -O
INCLUDES = -I. -I../../include -I../../../include

.c.o:
	$(CC) -c $(CFLAGS) $*.c

all:: libmfb.a

libmfb.a: $(OBJS)
	rm -f $@
	ar clq $@ $(OBJS)
	ranlib $@

depend::
	$(DEPEND) -s "# DO NOT DELETE" $(CFLAGS) $(SRCS)

mfbpntarea.o mfbimggblt.o mfbplygblt.o mfbtegblt.o:
	rm -f $@; touch $@

mfbpgbwht.o: mfbplygblt.c mfbplygblt.o
	rm -f $@ mfbpgbwht.c
	cp mfbplygblt.c mfbpgbwht.c
	${CC} -DMFBPOLYGLYPHBLT=mfbPolyGlyphBltWhite \
	   -DOPEQ=\|=  $(CFLAGS) -c mfbpgbwht.c
	rm -f mfbpgbwht.c

mfbpgbblak.o: mfbplygblt.c mfbplygblt.o
	rm -f $@ mfbpgbblak.c
	cp mfbplygblt.c mfbpgbblak.c
	${CC} -DMFBPOLYGLYPHBLT=mfbPolyGlyphBltBlack \
	   -DOPEQ=\&=~ $(CFLAGS) -c mfbpgbblak.c
	rm -f mfbpgbblak.c

mfbpgbinv.o: mfbplygblt.c mfbplygblt.o
	rm -f $@ mfbpgbinv.c
	cp mfbplygblt.c mfbpgbinv.c
	${CC} -DMFBPOLYGLYPHBLT=mfbPolyGlyphBltInvert \
	   -DOPEQ=\^=  $(CFLAGS) -c mfbpgbinv.c
	rm -f mfbpgbinv.c

mfbigbwht.o: mfbimggblt.c mfbimggblt.o
	rm -f $@ mfbigbwht.c
	cp mfbimggblt.c mfbigbwht.c
	${CC} -DMFBIMAGEGLYPHBLT=mfbImageGlyphBltWhite \
	   -DOPEQ=\|=  $(CFLAGS) -c mfbigbwht.c
	rm -f mfbigbwht.c

mfbigbblak.o: mfbimggblt.c mfbimggblt.o
	rm -f $@ mfbigbblak.c
	cp mfbimggblt.c mfbigbblak.c
	${CC} -DMFBIMAGEGLYPHBLT=mfbImageGlyphBltBlack \
	   -DOPEQ=\&=~ $(CFLAGS) -c mfbigbblak.c
	rm -f mfbigbblak.c

mfbpawhite.o: mfbpntarea.c mfbpntarea.o
	rm -f $@ mfbpawhite.c
	cp mfbpntarea.c mfbpawhite.c
	${CC} -DMFBSOLIDFILLAREA=mfbSolidWhiteArea \
	   -DMFBSTIPPLEFILLAREA=mfbStippleWhiteArea \
	   -DOPEQ=\|=  -DEQWHOLEWORD=\=~0 \
	   $(CFLAGS) -c mfbpawhite.c
	rm -f mfbpawhite.c

mfbpablack.o: mfbpntarea.c mfbpntarea.o
	rm -f $@ mfbpablack.c
	cp mfbpntarea.c mfbpablack.c
	${CC} -DMFBSOLIDFILLAREA=mfbSolidBlackArea \
	   -DMFBSTIPPLEFILLAREA=mfbStippleBlackArea \
	   -DOPEQ=\&=~ -DEQWHOLEWORD=\=0 \
	   $(CFLAGS) -c mfbpablack.c
	rm -f mfbpablack.c

mfbpainv.o: mfbpntarea.c mfbpntarea.o
	rm -f $@ mfbpainv.c
	cp mfbpntarea.c mfbpainv.c
	${CC} -DMFBSOLIDFILLAREA=mfbSolidInvertArea \
	   -DMFBSTIPPLEFILLAREA=mfbStippleInvertArea \
	   -DOPEQ=\^=  -DEQWHOLEWORD=\^=~0 \
	   $(CFLAGS) -c mfbpainv.c
	rm -f mfbpainv.c

mfbtewhite.o: mfbtegblt.c mfbtegblt.o
	@rm -f $@ mfbtewhite.c
	cp mfbtegblt.c mfbtewhite.c
	${CC} -DMFBTEGLYPHBLT=mfbTEGlyphBltWhite \
	   -DOP= -DCLIPTETEXT=mfbImageGlyphBltWhite $(CFLAGS) -c mfbtewhite.c
	rm -f mfbtewhite.c

mfbteblack.o: mfbtegblt.c mfbtegblt.o
	@rm -f $@ mfbteblack.c
	cp mfbtegblt.c mfbteblack.c
	${CC} -DMFBTEGLYPHBLT=mfbTEGlyphBltBlack \
	   -DOP=~ -DCLIPTETEXT=mfbImageGlyphBltBlack $(CFLAGS) -c mfbteblack.c
	rm -f mfbteblack.c

lint:
	lint -Clibmfb $(INCLUDES) -DMFBPOLYGLYPHBLT=mfbPolyGlyphBltWhite \
	   -DMFBIMAGEGLYPHBLT=mfbImageGlyphBltWhite -DEQWHOLEWORD=\=~0 \\
	   -DOPEQ=\|= $(SRCS)  > lint.out

clean::
	$(RM_CMD) \#*

Makefile:: Imakefile \
	$(UTILSRC)/imake.includes/Imake.tmpl \
	$(UTILSRC)/imake.includes/Imake.rules \
	$(UTILSRC)/imake.includes/$(MACROFILE)
		-rm -f Makefile.bak; mv Makefile Makefile.bak
		$(IMAKE_CMD) -DTOPDIR=$(TOP)

tags::
	$(TAGS) -w *.[ch]
	$(TAGS) -xw *.[ch] > TAGS

install::
	@echo "install done"

Makefiles::

